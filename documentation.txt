# Smart farm manager


/ This is project that aims to be an ERP for a farm environment.

First, I set up the Next project which will be the fullstack solution. The DB will be a mongodb database container exposed on 27017 port.

Step 1. Define data model for mongo

So we'll need at least 6 entities:

- Farmers - Utilizatorii sistemului (administratorii fermei) _id, name, email, password, role
- Fields (terenurile) Parcela de teren din fermÄƒ _id, name, area, location, soil_type, farmer_id
- Crops (culturile) Tipurile de plante cultivate _id, name, type, planting_date, harvest_date, field_id
- Animals (animalele) EvidenÈ›a animalelor de fermÄƒ _id, tag, species, birth_date, weight, health_status, farmer_id
- Equipment (echipamente) Tractoare, utilaje etc. _id, name, type, status, purchase_date, last_service_date
- Expenses (cheltuieli) ÃnregistrÄƒri financiare _id, category, amount, date, description, farmer_id

A conceptual ERD model is this:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Farmers    â”‚           â”‚   Equipment  â”‚
â”‚--------------â”‚           â”‚--------------â”‚
â”‚ _id          â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ farmer_id    â”‚
â”‚ name         â”‚           â”‚ name         â”‚
â”‚ email        â”‚           â”‚ type         â”‚
â”‚ password     â”‚           â”‚ status       â”‚
â”‚ role         â”‚           â”‚ last_service â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚1        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚         â”‚   Fields     â”‚
       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚--------------â”‚
       â”‚         â”‚ _id          â”‚
       â”‚         â”‚ name         â”‚
       â”‚         â”‚ area         â”‚
       â”‚         â”‚ soil_type    â”‚
       â”‚         â”‚ farmer_id    â”‚
       â”‚         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                â”‚
       â”‚1               â”‚1..*
       â”‚                â–¼
       â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚         â”‚   Crops      â”‚
       â”‚         â”‚--------------â”‚
       â”‚         â”‚ _id          â”‚
       â”‚         â”‚ name         â”‚
       â”‚         â”‚ type         â”‚
       â”‚         â”‚ planting_dateâ”‚
       â”‚         â”‚ harvest_date â”‚
       â”‚         â”‚ field_id     â”‚
       â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚1
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Animals    â”‚
â”‚--------------â”‚
â”‚ _id          â”‚
â”‚ tag          â”‚
â”‚ species      â”‚
â”‚ birth_date   â”‚
â”‚ weight       â”‚
â”‚ health_statusâ”‚
â”‚ farmer_id    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Expenses   â”‚
â”‚--------------â”‚
â”‚ _id          â”‚
â”‚ category     â”‚
â”‚ amount       â”‚
â”‚ date         â”‚
â”‚ description  â”‚
â”‚ farmer_id    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 
Relationship  	    Type            Description
Farmer â†’ Fields	    1-to-many	    A farmer owns many fields
Field â†’ Crops	      1-to-many	    A field has many crops
Farmer â†’ Animals	  1-to-many	    A farmer owns many animals
Farmer â†’ Equipment	1-to-many	    A farmer owns many pieces of equipment
Farmer â†’ Expenses	  1-to-many	    A farmer has many expenses

MongoDB fiind o bazÄƒ NoSQL, relaÈ›iile nu se implementeazÄƒ prin foreign keys reale, ci prin referinÈ›e logice (ID-uri).

De exemplu, Ã®n Fields salvÄƒm farmer_id (ObjectId al fermierului), iar Ã®n Crops salvÄƒm field_id.

-  Define the models inside /models folder for each entity.
- Connect to the MongoDB database using Mongoose in /utils/mongodb.ts file.
- Create a reusable apiClient in /utils/apiClient.ts for making API requests.


1. Modelul de date (baza de date â€” minim 6 entitÄƒÈ›i)

- urmÄƒtoarele 6 entitÄƒÈ›i principale (logice pentru un ERP de fermÄƒ):

| Entitate      | Descriere                                     | Exemple de cÃ¢mpuri                                            |
| ------------- | --------------------------------------------- | ------------------------------------------------------------- |
| **Farmer**    | utilizatori ai sistemului (admini, lucrÄƒtori) | name, email, password, role                                   |
| **Field**     | parcele de teren                              | name, area, location, soil_type                               |
| **Crop**      | culturi cultivate pe cÃ¢mpuri                  | name, type, planting_date, harvest_date, field_id             |
| **Animal**    | animale gestionate Ã®n fermÄƒ                   | species, birth_date, health_status, location                  |
| **Equipment** | utilaje agricole                              | name, type, status, last_maintenance                          |
| **Task**      | activitÄƒÈ›i agricole planificate               | title, description, date, assigned_to (Farmer), related_field |


2. FuncÈ›ionalitÄƒÈ›i CRUD (6 machete de introducere/gestiune date)

Va exista cÃ¢te o interfaÈ›Äƒ completÄƒ (frontend + backend) pentru fiecare entitate de mai sus:

| Pagina       | FuncÈ›ii      | Descriere                                       |
| ------------ | ------------ | ----------------------------------------------- |
| `/farmers`   | CRUD complet | AdÄƒugare, editare, È™tergere È™i listare fermieri |
| `/fields`    | CRUD complet | Gestiune parcele                                |
| `/crops`     | CRUD complet | Gestiune culturi (legat de fields)              |
| `/animals`   | CRUD complet | Gestiune animale                                |
| `/equipment` | CRUD complet | Gestiune utilaje                                |
| `/tasks`     | CRUD complet | Gestiune activitÄƒÈ›i È™i alocare cÄƒtre fermieri   |


ğŸ”¹ Acestea vor constitui cele 6 machete de culegere/gestiune cerute de proiect.

3. Rapoarte (minim 4 machete de raportare/interogare date)
Vor exista 4 pagini de raportare, unde combinÄƒm date din mai multe entitÄƒÈ›i:
| Raport                          | Scop                                             | Exemplu de interogare |
| ------------------------------- | ------------------------------------------------ | --------------------- |
| **1ï¸âƒ£ Crop Report**             | Starea culturilor È™i randament estimat           | `crops` + `fields`    |
| **2ï¸âƒ£ Animal Health Report**    | Starea de sÄƒnÄƒtate a animalelor                  | `animals`             |
| **3ï¸âƒ£ Equipment Status Report** | SituaÈ›ia utilajelor funcÈ›ionale È™i Ã®n mentenanÈ›Äƒ | `equipment`           |
| **4ï¸âƒ£ Task Overview**           | ActivitÄƒÈ›i planificate È™i executanÈ›i             | `tasks` + `farmers`   |

- Se vor adÄƒuga grafice (cu Apache ECharts sau Chart.js) pentru a le face vizuale È™i interactive.

4. Ordinea de implementare

- Farmers CRUD â€” deja aproape complet
- Fields CRUD
- Crops CRUD (cu legÄƒturÄƒ la Field)
- Animals CRUD
- Equipment CRUD
- Tasks CRUD (cu legÄƒturÄƒ la Farmer È™i Field)
- Rapoarte È™i dashboard
- Design È™i testare finalÄƒ

5. Arhitectura generalÄƒ

Backend: API-uri Next.js conectate la MongoDB 

Frontend: React (Next.js) cu pagini dedicate fiecÄƒrei entitÄƒÈ›i
